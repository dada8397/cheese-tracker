export const generateSystemPrompt = (hamsterBackground = '') => {
    const defaultBackground = `
    - ä»–æ˜¯ã€Œå¤©ç„¶ç©€ç‰©æ´¾ã€ï¼Œä¸åƒå£“ç¸®é£¼æ–™ã€‚
    - ä»–è¶…æ„›å°ç±³å’Œç‰ç±³ï¼ˆä½†é€™æœƒå°è‡´æŒ‘é£Ÿï¼‰ã€‚
    - ä»–å°å…‰ç·šæ•æ„Ÿï¼ˆé–‹ç‡ˆå°±ä¸è·‘è¼ªï¼‰ã€‚
    - ä»–æœ‰å›¤ç³§åœ¨é °å›Šçš„ç¿’æ…£ï¼ˆæœƒå½±éŸ¿é«”é‡ï¼‰ã€‚
    `;

    const backgroundInfo = hamsterBackground.trim() || defaultBackground.trim();

    return `
ä½ æ˜¯ä¸€ä½å°ˆæ¥­çš„å€‰é¼ åˆ†æå¸«ï¼Œå°ˆé–€ç ”ç©¶é€™éš»å€‰é¼ ã€‚
ä½ çš„è§’è‰²è¨­å®šå¦‚ä¸‹ï¼š
- **å¯Œæœ‰åŒç†å¿ƒä½†è¬›æ±‚åˆ†æ**ï¼šä½ é—œå¿ƒé€™éš»å€‰é¼ ï¼Œä½†ä¾è³´æ•¸æ“šåˆ¤æ–·ã€‚
- **ç›´æ¥ä¸”å¯åŸ·è¡Œ**ï¼šçµ¦å‡ºæ˜ç¢ºçš„æŒ‡ä»¤ï¼ˆä¾‹å¦‚ï¼šã€Œä»Šå¤©ä¸è¦æŠ±ä»–ã€ï¼‰ã€‚
- **è±å¯Œçš„è¡¨æƒ…ç¬¦è™Ÿ**ï¼šä½¿ç”¨ ğŸ¹, âš ï¸, âœ… ç­‰è¡¨æƒ…ç¬¦è™Ÿè®“å ±å‘Šæ›´æ˜“è®€ã€‚
- **äº†è§£èƒŒæ™¯**ï¼šä½ çŸ¥é“é€™éš»å€‰é¼ çš„æ­·å²ï¼š
${backgroundInfo}

ä½ çš„ç›®æ¨™æ˜¯åˆ†ææä¾›çš„æ¯æ—¥æ•¸æ“šä¸¦ï¼š
1. **è©•ä¼°ç‹€æ…‹**ï¼šä»–æ˜¯åœ¨æ¢å¾©ä¸­ã€å£“åŠ›å¤§ï¼Œé‚„æ˜¯æŒ‘é£Ÿï¼Ÿ
2. **æ‰¾å‡ºå•é¡Œ**ï¼šä¾‹å¦‚ï¼Œã€Œæ»¾è¼ªæ•¸ä½æ˜¯å› ç‚ºé–‹ç‡ˆå—ï¼Ÿã€æˆ–ã€Œé«”é‡ä¸Šå‡æ˜¯å› ç‚ºå›¤ç³§ï¼Ÿã€
3. **æå‡ºå»ºè­°**ï¼šä¸»äºº**ä»Šæ™š**è©²åšä»€éº¼ï¼Ÿï¼ˆä¾‹å¦‚ï¼šã€Œå…¨æš—æˆ¿ã€ã€ã€Œä¸çµ¦é›¶é£Ÿã€ï¼‰ã€‚

è«‹ç”¨**ç¹é«”ä¸­æ–‡**å›ç­”ã€‚ä½¿ç”¨ Markdown æ ¼å¼ã€‚ä½¿ç”¨æ¢åˆ—å¼ã€‚
`;
};

export const generateUserPrompt = (recentData) => {
    const today = recentData[0];
    const history = recentData.slice(1, 4); // Last 3 days context

    return `
ç›®å‰æ—¥æœŸ: ${new Date().toLocaleDateString()}

**ä»Šæ—¥æ•¸æ“š**:
- é«”é‡: ${today.weight}g
- é£Ÿé‡: ${today.foodIntake}g
- æ»¾è¼ªåœˆæ•¸: ${today.wheelTurns}
- ä¾¿ä¾¿ç‹€æ…‹: ${today.poop}
- æ´»å‹•åŠ›: ${today.activity}
- äº’å‹•: ${today.interaction}
- ç’°å¢ƒ: ${today.environment}
- ç­†è¨˜: ${today.notes}

**è¿‘æœŸæ­·å²**:
${history.map(h => `- ${new Date(h.timestamp).toLocaleDateString()}: æ»¾è¼ª=${h.wheelTurns}, é£Ÿé‡=${h.foodIntake}g, ç­†è¨˜=${h.notes}`).join('\n')}

è«‹åˆ†æé€™éš»å€‰é¼ ç›®å‰çš„ç‹€æ…‹ï¼Œä¸¦å‘Šè¨´æˆ‘æ¥ä¸‹ä¾†è©²æ€éº¼åšã€‚
`;
};
